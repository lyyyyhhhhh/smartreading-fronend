{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liyunhao/Desktop/code/smartreading/smartreading/pages/main/discover/discover.vue?c8e6","webpack:////Users/liyunhao/Desktop/code/smartreading/smartreading/pages/main/discover/discover.vue?d56c","webpack:////Users/liyunhao/Desktop/code/smartreading/smartreading/pages/main/discover/discover.vue?c284","webpack:////Users/liyunhao/Desktop/code/smartreading/smartreading/pages/main/discover/discover.vue?885f","uni-app:///pages/main/discover/discover.vue","webpack:////Users/liyunhao/Desktop/code/smartreading/smartreading/pages/main/discover/discover.vue?d7a6","webpack:////Users/liyunhao/Desktop/code/smartreading/smartreading/pages/main/discover/discover.vue?e02c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","pageLoading","animation","hotsearchvalues","historysearchvalues","selectshow","searchscreenvalue","searchscreenrange","value","text","uoverlayshow","searchValue","nodes","name","attrs","class","style","children","type","recommendedarticlelist","cardList","title","pic","content","abstract","author","mark","numberofcomments","labels","isfree","characternumber","readingtime","startX","startY","deltaY","cardHeight","showCard","currentCartIndex","index","start_time","end_time","computed","elementStyle","onLoad","uni","url","method","success","articleid","fulltexturl","setTimeout","fail","complete","onShow","watch","console","onTabItemTap","methods","onTouchStart","onTouchMove","onTouchEnd","removeCard","changeCurrentCard","toDetail","toreading","oosurl","searchbarfocus","searchbarconfirm","select","searchvalue","searchscreenchange","uoverlayshowif"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4WAEN;AACP,KAAK;AACL;AACA,aAAa,mWAEN;AACP,KAAK;AACL;AACA,aAAa,mTAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAo2B,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCmKx3B;EACAC;IACA;MAEAC;MACAC;MAEAC,kBACA,SACA,SACA,QACA,KACA;MAEAC,sBACA,QACA,QACA,MACA;MAEAC;MAEAC;MAEAC;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MAEAC;MACAC;MAEAC;QACAC;QACAC;UACAC;UACAC;QACA;QACAC;UACAC;UACAT;QACA;MACA;MAEAU;MAEAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAV;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAV;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAV;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAV;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAV;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,EACA;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAGA;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;QACA;QACA;MACA;IACA;EACA;EAEAC;IAAA;IACA;IACA;;IAEA;;IAGA;IACAC;MACAC;MACAC;MACA9C;MACA+C;QACA;;QAEA;QAEA;UAEA;YACAC;YACA3B;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAkB;UACA;UAEA;QACA;;QAGA;QACAC;UACA;QACA;QACA;MAEA;;MACAC,uBACA;MACAC,+BACA;IACA;EACA;EAEAC;IACA;IACA;EACA;EAEAC;IACAjB;MAEA;;MAEA;QACAkB;;QAEA;QACA;UACAlC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MAEA;IACA;EACA;EAEA;EACAyB;IACA;IACA;IACAZ;MACAN;MACA7B;IACA;IAEAmC;MACAN;MACA7B;IACA;IAEAmC;MACAN;MACA7B;IACA;IAEAmC;MACAN;MACA7B;IACA;EAGA;EAEAgD;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;QACA;QACAL;QAEAA;MAEA;QACA;QACA;;QAEAA;MACA;MACA;MACA;IACA;IACAM;MAAA;MACA;MACA;MACAX;QACA;QACA;MACA;IACA;IAEAY;MACA;MACA;IACA;IAEAC;MACAR;MAEAX;QACAC;QACAE;UACAQ;QACA;MACA;IACA;IAEA;IACAS;MACAT;;MAEA;MACA;QACAP;QACA3B;QACA4C;MACA;MAEAV;MAEAX;QACAC;QACAE;UACAQ;QACA;QACAJ;UACAI;QACA;QACAH,+BACA;MACA;IACA;IAEA;IACAc;MACA;MACA;IACA;IAEA;IACAC;MACA;;MAEA;MACA;QACAC;QACAC;MACA;MAEAd;MACAA;MAEAX;QACAC;QACAE;UACAQ;QACA;QACAJ;UACAI;QACA;QACAH,+BACA;MACA;IAEA;IAEAkB,mDAEA;IAEAC;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACviBA;AAAA;AAAA;AAAA;AAA6tC,CAAgB,mmCAAG,EAAC,C;;;;;;;;;;;ACAjvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/main/discover/discover.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/main/discover/discover.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./discover.vue?vue&type=template&id=a81ee09c&\"\nvar renderjs\nimport script from \"./discover.vue?vue&type=script&lang=js&\"\nexport * from \"./discover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./discover.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/main/discover/discover.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=template&id=a81ee09c&\"","var components\ntry {\n  components = {\n    uniDataSelect: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-select/components/uni-data-select/uni-data-select\" */ \"@/uni_modules/uni-data-select/components/uni-data-select/uni-data-select.vue\"\n      )\n    },\n    uniSearchBar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar\" */ \"@/uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.vue\"\n      )\n    },\n    uOverlay: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-overlay/u-overlay\" */ \"@/uni_modules/uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    uniRate: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-rate/components/uni-rate/uni-rate\" */ \"@/uni_modules/uni-rate/components/uni-rate/uni-rate.vue\"\n      )\n    },\n    uniTag: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-tag/components/uni-tag/uni-tag\" */ \"@/uni_modules/uni-tag/components/uni-tag/uni-tag.vue\"\n      )\n    },\n    lsLoading: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/ls-loading/components/ls-loading/ls-loading\" */ \"@/uni_modules/ls-loading/components/ls-loading/ls-loading.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.showCard\n    ? _vm.__map(_vm.recommendedarticlelist, function (item, ind) {\n        var $orig = _vm.__get_orig(item)\n        var g0 = item.mark.toFixed(1)\n        return {\n          $orig: $orig,\n          g0: g0,\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <!-- 状态栏占位 -->\r\n    <view class=\"status_bar\"></view>\r\n\r\n    <!-- 搜索框 -->\r\n\r\n    <view style=\"width: 100%; display: flex; justify-content: center; align-items: center;\" class=\"search_bar\">\r\n\r\n      <uni-data-select v-model=\"searchscreenvalue\" placeholder=\"\" :localdata=\"searchscreenrange\"\r\n                       @change=\"searchscreenchange\"\r\n                       style=\"width: auto; background-color: white; height: 60rpx;  margin-left: 20rpx;\"\r\n                       v-show=\"selectshow\"\r\n                       :clear=\"false\"></uni-data-select>\r\n\r\n      <uni-search-bar cancelButton=\"none\" placeholder=\"搜索文章、主题、用户名 ...\" v-model=\"searchValue\"\r\n                      @focus=\"searchbarfocus\" @confirm=\"searchbarconfirm\" :style=\"elementStyle\"></uni-search-bar>\r\n    </view>\r\n\r\n    <u-overlay :show=\"uoverlayshow\" @click=\"uoverlayshowif\" z-index=\"2\" style=\"background-color: white;\">\r\n\r\n      <view @tap.stop\r\n            style=\"width: auto; height: 300rpx;  margin-top: 200rpx; margin-left: 40rpx; margin-right: 40rpx; \">\r\n        <view style=\"display: flex; flex-direction: column;\">\r\n          <view style=\"display: flex; flex-direction: column;\">\r\n            <view style=\"display: flex; justify-content: space-between;\">\r\n              <view style=\"font-size: 27rpx;\">热门搜索</view>\r\n              <image src=\"../../../static/images/search/flush.png\" style=\"width: 30rpx; height: 30rpx;\">\r\n              </image>\r\n            </view>\r\n\r\n            <view style=\"display: flex; flex-wrap: wrap; margin-top: 30rpx; \">\r\n              <view v-for=\"(item, index) in hotsearchvalues\" :key=\"index\"\r\n                    style=\"display: flex; align-items: center; justify-content: center; color: #43B0FF; font-weight: bold; font-size: 24rpx; background-color: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); height: 50rpx; width: calc(33.33% - 50rpx); margin-right: 50rpx; margin-bottom: 30rpx;\">\r\n                <view>{{ item }}</view>\r\n              </view>\r\n            </view>\r\n\r\n\r\n          </view>\r\n          <view style=\"display: flex; flex-direction: column; margin-top: 40rpx;\">\r\n            <view style=\"display: flex; justify-content: space-between;\">\r\n              <view style=\"font-size: 27rpx;\">搜索历史</view>\r\n              <view>\r\n                <image src=\"../../../static/images/search/dustbin.png\"\r\n                       style=\"width: 30rpx; height: 30rpx;\"></image>\r\n              </view>\r\n            </view>\r\n            <view style=\"display: flex; flex-wrap: wrap; margin-top: 30rpx; \">\r\n              <view v-for=\"(item, i) in historysearchvalues\" :key=\"i\"\r\n                    style=\"display: flex; align-items: center; justify-content: center; color: gray;  font-size: 24rpx; background-color: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); height: 50rpx; width: calc(33.33% - 50rpx); margin-right: 50rpx; margin-bottom: 30rpx;\">\r\n                <view>{{ item }}</view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n    </u-overlay>\r\n\r\n    <view style=\"height: 50rpx;\"></view>\r\n\r\n    <!-- 主体 -->\r\n    <view style=\"height: 100%\">\r\n      <transition name=\"fade\">\r\n        <view v-if=\"showCard\" class=\"card-container\">\r\n          <swiper class=\"swiper\" @touchstart=\"onTouchStart\" @touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\"\r\n                  :current=\"currentCartIndex\" @change=\"changeCurrentCard\" vertical=\"true\">\r\n            <swiper-item v-for=\"(item, ind) in recommendedarticlelist\" :key=\"ind\" class=\"swiper-item\"\r\n                         @click=\"toreading(item)\">\r\n              <!-- @click=\"toDetail\" -->\r\n              <!-- 这里放置卡片内容 -->\r\n              <view class=\"card\" style=\"text-align: center;\">\r\n                <view\r\n                    style=\" display: flex; flex-direction: column; text-align: center; align-items: center;\">\r\n                  <image class=\"image-style\" :src=\"item.pic\" style=\"width: 460rpx; height: 650rpx;\"\r\n                         mode=\"scaleToFill\">\r\n                  </image>\r\n                  <view style=\"height: 30rpx;\"></view>\r\n                  <text class=\"article-title\" style=\"font-family: 'kaiti';\"> {{ item.title }}</text>\r\n\r\n                  <text style=\"font-size: 25rpx;\">{{ item.author }}</text>\r\n\r\n                  <!-- <text> {{ item.abstract }}</text> -->\r\n                  <view style=\"height: 30rpx;\"></view>\r\n                  <view style=\"margin-left: 120rpx; margin-right: 120rpx;\">\r\n                    <view class=\"article-abstract\" style=\"width: 85vw;height: auto;\">\r\n                      <!-- <view style=\"margin-bottom: 20rpx;\">文章摘要</view> -->\r\n                      <view>\r\n\r\n                        <!-- \t\t\t\t\t\t\t\t\t\t\t\t<u-read-more showHeight=\"60\" :toggle=\"true\" backgroundImage=\"none\"\r\n                          closeText=\"更多\">\r\n                          <rich-text :nodes=\"item.abstract\"></rich-text>\r\n                        </u-read-more> -->\r\n\r\n                        <rich-text :nodes=\"item.abstract\"></rich-text>\r\n                      </view>\r\n                    </view>\r\n                  </view>\r\n\r\n                  <view style=\"height: 20rpx;\"></view>\r\n\r\n                  <view style=\"margin-left: 20rpx; display: flex; text-align: center;\">\r\n                    <uni-rate size=\"18\" allow-half :readonly=\"true\" :value=\"item.mark / 2\"\r\n                              max=\"5\"/>\r\n                    <view style=\"color: gray; font-size: 23rpx; margin-left: 10rpx;\">\r\n                      <text>\r\n                        {{ item.mark.toFixed(1) }} 分\r\n                      </text>\r\n                    </view>\r\n                    <view style=\"color: gray; font-size: 23rpx;\">\r\n                      <text>\r\n                        &nbsp; ({{ item.numberofcomments }}人评论)\r\n                      </text>\r\n                    </view>\r\n                  </view>\r\n\r\n                  <view\r\n                      style=\"display: flex; margin-left: 20rpx; margin-top: 30rpx; gap: 15rpx; align-items: center;\">\r\n                    <view v-for=\"(item, inde) in item.labels\" :key=\"inde\">\r\n                      <uni-tag :text=\"item\"\r\n                               style=\"background-color: #E7F5FF;  color: #43B0FF; font-weight: bold; border: white\">\r\n                      </uni-tag>\r\n                    </view>\r\n\r\n                    <uni-tag :text=\"item.isfree ? '免费' : '付费'\" :style=\"{\r\n\t\t\t\t\t\t\t\t\t\t            'background-color': item.isfree ? 'green' : 'orange',\r\n\t\t\t\t\t\t\t\t\t\t            'color': 'white',\r\n\t\t\t\t\t\t\t\t\t\t            'font-weight': 'bold',\r\n\t\t\t\t\t\t\t\t\t\t            'border': 'white'\r\n\t\t\t\t\t\t\t\t\t\t         }\">\r\n                    </uni-tag>\r\n\r\n\r\n                  </view>\r\n\r\n                  <view style=\"height: 30rpx;\"></view>\r\n                  <view style=\"font-size: 22rpx; color: gray;\">\r\n                    提示: 约{{ item.characternumber }} 字符, 读完大概需要 {{ item.readingtime }} 分钟\r\n                  </view>\r\n\r\n                  <view style=\"height: 20rpx;\"></view>\r\n\r\n                </view>\r\n\r\n\r\n              </view>\r\n            </swiper-item>\r\n          </swiper>\r\n        </view>\r\n      </transition>\r\n    </view>\r\n\r\n    <ls-loading text=\"很快就好, 智阅正在为您推荐...\" :animation=\"animation\" v-if=\"pageLoading\"\r\n                fontSize=\"30\"></ls-loading>\r\n    <!-- \t\t<view class=\"floating-view\">\r\n\r\n    </view> -->\r\n\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n\r\n      pageLoading: true,\r\n      animation: 'twinkle',\r\n\r\n      hotsearchvalues: [\r\n        '失踪的孩子',\r\n        '遮蔽的天空',\r\n        '回答不了',\r\n        '背影'\r\n      ],\r\n\r\n      historysearchvalues: [\r\n        '梦的化石',\r\n        '染匠之手',\r\n        '丁家雄'\r\n      ],\r\n\r\n      selectshow: false,\r\n\r\n      searchscreenvalue: 0,\r\n\r\n      searchscreenrange: [{\r\n        value: 0,\r\n        text: \"主题\"\r\n      },\r\n        {\r\n          value: 1,\r\n          text: \"文章\"\r\n        },\r\n        {\r\n          value: 2,\r\n          text: \"用户\"\r\n        },\r\n      ],\r\n\r\n      uoverlayshow: false,\r\n      searchValue: '',\r\n\r\n      nodes: [{\r\n        name: 'div',\r\n        attrs: {\r\n          class: 'div-class',\r\n          style: 'margin-left: 30rpx ;line-height: 30rpx; color: black; text-align:left; float: left; font-weight: bold'\r\n        },\r\n        children: [{\r\n          type: 'text',\r\n          text: '文章摘要'\r\n        }]\r\n      }],\r\n\r\n      recommendedarticlelist: [],\r\n\r\n      cardList: [{\r\n        title: '灵与肉',\r\n        pic: 'https://dingjiaxiong.oss-cn-hangzhou.aliyuncs.com/smartreading/coverpic/1.png',\r\n        content: \"Card1\",\r\n        abstract: '&emsp;&emsp;这篇文章描述了主人公许灵均回到家乡的感人故事，他经历了艰苦的放牧生活，最后回到了家乡，与妻子和孩子团聚。在这个过程中，他体会到了劳动者的情感，感受到了家庭的温暖和幸福。',\r\n        author: '张贤亮',\r\n        mark: 9.0,\r\n        numberofcomments: 68,\r\n        labels: ['劳动生活', '家庭情感', '生活变迁'],\r\n        isfree: false,\r\n        characternumber: 17000,\r\n        readingtime: 57\r\n      },\r\n        {\r\n          title: '一台1846年的摄像机',\r\n          pic: 'https://dingjiaxiong.oss-cn-hangzhou.aliyuncs.com/smartreading/2.png',\r\n          content: \"Card2\",\r\n          abstract: '&emsp;&emsp;《温坡街上的巴蕾特》曾是轰动一时的戏剧，大致讲了一出私奔的故事，和中国传统戏曲《西厢记》有些类似。',\r\n          author: '赵瑜',\r\n          mark: 8.0,\r\n          numberofcomments: 20,\r\n          labels: ['怀旧', '咏物'],\r\n          isfree: true,\r\n          characternumber: 8500,\r\n          readingtime: 25\r\n        },\r\n        {\r\n          title: '假如你观察一个小孩子',\r\n          pic: 'https://dingjiaxiong.oss-cn-hangzhou.aliyuncs.com/smartreading/3.png',\r\n          content: \"Card3\",\r\n          abstract: '&emsp;&emsp;她放声大哭，哭到步道上的人都暂停自己的行动去看她。有那么一瞬间，大人围拢过去，像磁石落入铁屑。但她抽泣着，想说什么却不能如愿。',\r\n          author: '沈轶伦',\r\n          mark: 10.0,\r\n          numberofcomments: 68,\r\n          labels: ['文学', '感人'],\r\n          isfree: false,\r\n          characternumber: 8500,\r\n          readingtime: 25\r\n        },\r\n        {\r\n          title: '像爱因斯坦一样思考',\r\n          pic: 'https://dingjiaxiong.oss-cn-hangzhou.aliyuncs.com/smartreading/4.png',\r\n          content: \"Card4\",\r\n          abstract: '&emsp;&emsp;我们不是第一个想了解阿尔伯特·爱因斯坦思维方式的人。即使是孩童，也早已在心中把爱因斯坦的名字和天才这个概念画等号了。爱因斯坦也是无数科学家和思想家迫切希望研究的对象。有人甚至想“钻进爱因斯坦的大脑，一探究竟。',\r\n          author: '[德]特蕾莎·波尔莱恩',\r\n          mark: 9.0,\r\n          numberofcomments: 68,\r\n          labels: ['文学', '感人'],\r\n          isfree: true,\r\n          characternumber: 8500,\r\n          readingtime: 25\r\n        },\r\n        {\r\n          title: '厨房之战',\r\n          pic: 'https://dingjiaxiong.oss-cn-hangzhou.aliyuncs.com/smartreading/5.png',\r\n          content: \"Card5\",\r\n          abstract: '&emsp;&emsp;大观园风光旖旎自是不用说了。但是，如果读书的人不曾注意到园中一群下人”之间的种种争斗和一地鸡毛，就只能说是不懂《红楼梦》。就从精于描写小人物这一点来说，《红楼梦》也是文学史上少有的杰作。',\r\n          author: '骆玉明',\r\n          mark: 9.0,\r\n          numberofcomments: 68,\r\n          labels: ['文学', '感人'],\r\n          isfree: false,\r\n          characternumber: 8500,\r\n          readingtime: 25\r\n        },\r\n        {\r\n          title: '最微小的旅行',\r\n          pic: 'https://dingjiaxiong.oss-cn-hangzhou.aliyuncs.com/smartreading/6.png',\r\n          content: \"Card6\",\r\n          abstract: '&emsp;&emsp;citywalk一词源自西方，意为城市行走、城市漫步。2023年上半年，在国内某社交平台上，与citywalk相关的搜索量同比增长超30倍。有人说这个词的流行源于“年轻人不花钱找乐子”。有人说这是“附近“人与人连接的回归。',\r\n          author: '郭玉洁',\r\n          mark: 9.0,\r\n          numberofcomments: 68,\r\n          labels: ['文学', '感人'],\r\n          isfree: false,\r\n          characternumber: 8500,\r\n          readingtime: 25\r\n        },\r\n      ], // 卡片列表\r\n      startX: 0, // 触摸起始X坐标\r\n      startY: 0, // 触摸起始Y坐标\r\n      deltaY: 0, // Y轴滑动距离\r\n      cardHeight: 200, // 卡片高度\r\n      showCard: true, // 是否显示卡片\r\n\r\n      currentCartIndex: 0,\r\n\r\n\r\n      // 双击用的\r\n      index: 0,\r\n      start_time: 0,\r\n      end_time: 0\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    elementStyle() {\r\n      return {\r\n        'z-index': 999,\r\n        'width': this.selectshow ? '75%' : '100%'\r\n      };\r\n    }\r\n  },\r\n\r\n  onLoad() {\r\n    this.searchValue = '';\r\n    this.selectshow = false;\r\n\r\n    // 请求加载添加动画\r\n\r\n\r\n    // 请求文章数据【2024年6月3日17:17:58 请求30条所有数据】\r\n    uni.request({\r\n      url: 'http://123.56.217.170:2222/api/article/getidtopthirty',\r\n      method: 'GET',\r\n      data: {},\r\n      success: res => {\r\n        // console.log(res.data);\r\n\r\n        this.recommendedarticlelist.length = 0;\r\n\r\n        for (let i = 0; i < res.data.length; i++) {\r\n\r\n          let articletmp = {\r\n            articleid: res.data[i].articleId,\r\n            title: res.data[i].title,\r\n            pic: res.data[i].coverpic,\r\n            content: \"\",\r\n            abstract: '&emsp;&emsp;' + res.data[i].articleabstract,\r\n            author: res.data[i].author,\r\n            mark: res.data[i].markscore,\r\n            numberofcomments: res.data[i].commentsnumber,\r\n            labels: JSON.parse(res.data[i].articlelabel),\r\n            isfree: res.data[i].freeornot === 0 ? true : false,\r\n            characternumber: res.data[i].charnumber,\r\n            readingtime: Math.round(res.data[i].charnumber / 220),\r\n            fulltexturl: res.data[i].aliyuncontentoosurl\r\n          }\r\n\r\n          this.recommendedarticlelist.push(articletmp);\r\n        }\r\n\r\n\r\n        // 到这里动画结束\r\n        setTimeout(() => {\r\n          this.pageLoading = false;\r\n        }, 1500);\r\n        // console.log(this.recommendedarticlelist);\r\n\r\n      },\r\n      fail: () => {\r\n      },\r\n      complete: () => {\r\n      }\r\n    });\r\n  },\r\n\r\n  onShow() {\r\n    this.searchValue = '';\r\n    this.selectshow = false;\r\n  },\r\n\r\n  watch: {\r\n    currentCartIndex(newVal, oldVal) {\r\n\r\n      // console.log(newVal, oldVal);\r\n\r\n      if (this.currentCartIndex === this.recommendedarticlelist.length - 1) {\r\n        console.log(\"到数据末尾了\");\r\n\r\n        // 加入新的数据\r\n        this.recommendedarticlelist.push({\r\n          title: '最微小的旅行',\r\n          pic: 'https://dingjiaxiong.oss-cn-hangzhou.aliyuncs.com/smartreading/6.png',\r\n          content: \"Card6\",\r\n          abstract: '&emsp;&emsp;citywalk一词源自西方，意为城市行走、城市漫步。2023年上半年，在国内某社交平台上，与citywalk相关的搜索量同比增长超30倍。有人说这个词的流行源于“年轻人不花钱找乐子”。有人说这是“附近“人与人连接的回归。',\r\n          author: '郭玉洁',\r\n          mark: 9.0,\r\n          numberofcomments: 68,\r\n          labels: ['文学', '感人'],\r\n          isfree: false,\r\n          characternumber: 8500,\r\n          readingtime: 25\r\n        })\r\n\r\n      }\r\n    }\r\n  },\r\n\r\n  // 来一个监听底部导航栏被点击的方法\r\n  onTabItemTap: function (e) {\r\n    // console.log(e);\r\n    // e的返回格式为json对象： {\"index\":0,\"text\":\"首页\",\"pagePath\":\"pages/index/index\"}\r\n    uni.setTabBarItem({\r\n      index: 0,\r\n      text: '发现'\r\n    });\r\n\r\n    uni.setTabBarItem({\r\n      index: 1,\r\n      text: ''\r\n    });\r\n\r\n    uni.setTabBarItem({\r\n      index: 2,\r\n      text: ''\r\n    });\r\n\r\n    uni.setTabBarItem({\r\n      index: 3,\r\n      text: ''\r\n    });\r\n\r\n\r\n  },\r\n\r\n  methods: {\r\n    onTouchStart(e) {\r\n      this.startY = e.touches[0].clientY;\r\n    },\r\n    onTouchMove(e) {\r\n      this.deltaY = e.touches[0].clientY - this.startY;\r\n    },\r\n    onTouchEnd() {\r\n      if (this.deltaY < -50) {\r\n        // 往上滑动\r\n        // 进入卡片详情的逻辑\r\n        console.log('Swipe up');\r\n\r\n        console.log(this.currentCartIndex);\r\n\r\n      } else if (this.deltaY > 50) {\r\n        // 往下滑动\r\n        // 不喜欢卡片的逻辑\r\n\r\n        console.log('Swipe down');\r\n      }\r\n      // 重置滑动距离\r\n      this.deltaY = 0;\r\n    },\r\n    removeCard() {\r\n      // 移除当前卡片\r\n      this.showCard = false;\r\n      setTimeout(() => {\r\n        this.cardList.shift();\r\n        this.showCard = true;\r\n      }, 500); // 500ms后移除当前卡片\r\n    },\r\n\r\n    changeCurrentCard(e) {\r\n      // console.log(\"当前卡片改变了\");\r\n      this.currentCartIndex = e.detail.current;\r\n    },\r\n\r\n    toDetail() {\r\n      console.log(\"跳转到文章详情页\");\r\n\r\n      uni.navigateTo({\r\n        url: '../article/detail/detail',\r\n        success() {\r\n          console.log(\"跳转详情页成功\");\r\n        }\r\n      })\r\n    },\r\n\r\n    // 首页的直接进入阅读，之后可加上判断【购买之类的】\r\n    toreading(articleiteminfo) {\r\n      console.log(\"开始阅读吧\");\r\n\r\n      // 这下带上文章标题和oos_url\r\n      let articleinfo = {\r\n        articleid: articleiteminfo.articleid,\r\n        title: articleiteminfo.title,\r\n        oosurl: articleiteminfo.fulltexturl\r\n      }\r\n\r\n      console.log(articleinfo);\r\n\r\n      uni.navigateTo({\r\n        url: '../../main/article/reading/reading?article=' + JSON.stringify(articleinfo),\r\n        success: res => {\r\n          console.log(\"跳转成功\");\r\n        },\r\n        fail: () => {\r\n          console.log(\"跳转失败\");\r\n        },\r\n        complete: () => {\r\n        }\r\n      });\r\n    },\r\n\r\n    // 搜索框获取焦点时，遮罩层出现\r\n    searchbarfocus() {\r\n      this.uoverlayshow = true;\r\n      this.selectshow = true;\r\n    },\r\n\r\n    // 搜索框确定时，遮罩消失并跳转至搜索结果页面\r\n    searchbarconfirm() {\r\n      this.uoverlayshow = false;\r\n\r\n      // 跳转时带上搜索对象\r\n      let searchobj = {\r\n        select: this.searchscreenvalue,\r\n        searchvalue: this.searchValue\r\n      }\r\n\r\n      console.log(\"==================\");\r\n      console.log(searchobj);\r\n\r\n      uni.navigateTo({\r\n        url: '../discover/searchresult/searchresult?searchobj=' + JSON.stringify(searchobj),\r\n        success: res => {\r\n          console.log(\"跳转成功\");\r\n        },\r\n        fail: () => {\r\n          console.log(\"跳转失败\");\r\n        },\r\n        complete: () => {\r\n        }\r\n      });\r\n\r\n    },\r\n\r\n    searchscreenchange() {\r\n\r\n    },\r\n\r\n    uoverlayshowif() {\r\n      this.selectshow = false;\r\n      this.uoverlayshow = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.status_bar {\r\n  height: var(--status-bar-height);\r\n  width: 100%;\r\n}\r\n\r\n.search_bar {\r\n  position: fixed;\r\n  top: var(--status-bar-height);\r\n  left: 0;\r\n  width: 100%;\r\n  z-index: 999;\r\n  /* 确保搜索框在其他内容之上 */\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to\r\n\r\n  /* .fade-leave-active in <2.1.8 */\r\n{\r\n  opacity: 0;\r\n}\r\n\r\n.swiper {\r\n\r\n  margin-top: 10rpx;\r\n\r\n  width: 100%;\r\n  height: 90vh;\r\n}\r\n\r\n.swiper-item {\r\n\r\n  width: 85%;\r\n  height: 100%;\r\n\r\n}\r\n\r\n.card-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.card {\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #ffffff;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  /* align-items: center; */\r\n  margin-top: 90rpx;\r\n}\r\n\r\n.image-style {\r\n  border: 2px solid #ccc;\r\n  border-radius: 10px;\r\n  box-shadow: 10px 10px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.article-title {\r\n  margin: 20rpx;\r\n  font-weight: bold;\r\n\r\n  font-size: 30rpx;\r\n  letter-spacing: 0.2em;\r\n}\r\n\r\n.article-abstract {\r\n  margin: 0 40rpx;\r\n  color: #6a6a6a;\r\n  font-size: 25rpx;\r\n\r\n  letter-spacing: 0.1em;\r\n  text-align: left !important;\r\n\r\n}\r\n\r\n.floating-view {\r\n  width: 20rpx;\r\n  height: 20rpx;\r\n  background-color: aqua;\r\n\r\n  position: fixed;\r\n  /* top: 0; */\r\n  /* 将其置于页面顶部 */\r\n  left: 40%;\r\n\r\n  bottom: 30;\r\n  /* 如果需要，可以调整左侧距离 */\r\n  width: 100rpx;\r\n  height: 30rpx;\r\n  /* 让悬浮视图占据整个页面宽度 */\r\n  z-index: 999;\r\n  /* 确保悬浮视图位于最上层 */\r\n  /* 其它样式 */\r\n}\r\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1737562184314\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}